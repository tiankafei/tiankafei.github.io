(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{366:function(a,t,s){"use strict";s.r(t);var e=s(42),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"easy-mock安装配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#easy-mock安装配置"}},[a._v("#")]),a._v(" easy-mock安装配置")]),a._v(" "),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("git clone https://github.com/easy-mock/easy-mock.git\n")])])]),s("h2",{attrs:{id:"进入其目录，安装依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进入其目录，安装依赖"}},[a._v("#")]),a._v(" 进入其目录，安装依赖")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd easy-mock && npm install\n")])])]),s("blockquote",[s("p",[a._v("报错")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('gyp WARN EACCES user "root" does not have permission to access the dev dir "/home/countly/nodejs/lib/node_modules/time/.node-gyp/0.10.36"\ngyp WARN EACCES attempting to reinstall using temporary dev dir "/home/countly/nodejs/lib/node_modules/time/.node-gyp"\n')])])]),s("p",[a._v("报错解决：在命令行后面增加")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm install --unsafe-perm \n")])])])]),a._v(" "),s("h2",{attrs:{id:"更改配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更改配置"}},[a._v("#")]),a._v(" 更改配置")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("config/default.json\n")])])]),s("h2",{attrs:{id:"代码执行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码执行"}},[a._v("#")]),a._v(" 代码执行")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm run dev\n")])])]),s("h2",{attrs:{id:"前端静态资源构建打包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端静态资源构建打包"}},[a._v("#")]),a._v(" 前端静态资源构建打包")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm run build\n")])])]),s("h2",{attrs:{id:"以生产环境方式启动，需要提前执行-build"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#以生产环境方式启动，需要提前执行-build"}},[a._v("#")]),a._v(" 以生产环境方式启动，需要提前执行 build")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm run start\n")])])]),s("h2",{attrs:{id:"服务器部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务器部署"}},[a._v("#")]),a._v(" 服务器部署")]),a._v(" "),s("h3",{attrs:{id:"全局安装-pm2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局安装-pm2"}},[a._v("#")]),a._v(" 全局安装 PM2")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("npm install pm2 -g\n")])])]),s("h3",{attrs:{id:"用-pm2-启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用-pm2-启动"}},[a._v("#")]),a._v(" 用 PM2 启动")]),a._v(" "),s("blockquote",[s("p",[a._v("设置pm2的环境变量")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置软连接")]),a._v("\n "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ln")]),a._v(" -s /opt/software/node-v8.9.0-linux-x64/bin/pm2 /usr/local/bin/\n")])])]),s("p",[a._v("启动项目")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("NODE_ENV=production pm2 start app.js\n")])])]),s("p",[s("strong",[a._v("开机自启动")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pm2 startup  # 创建开机自启动命令\npm2 save  # 保存当前应用列表\npm2 resurrect  # 重新加载保存的应用列表\npm2 unstartup  # 移除开机自启动\n")])])]),s("p",[s("strong",[a._v("删除")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pm2 delete app_name|app_id  # 从列表中删除指定的进程\npm2 delete all # 从列表中删除全部进程\npm2 kill # 杀死守护进程\n")])])]),s("p",[s("strong",[a._v("停止")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pm2 stop app_name|app_id\npm2 stop all  # 停止所有\n")])])]),s("p",[s("strong",[a._v("查看")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("pm2 list # 查看进程\npm2 logs # 查看日志\npm2 show app_name|app_id # 查看进程详情\npm2 monit  # 查看CPU和内存资源占用\n")])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);