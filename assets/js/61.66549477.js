(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{332:function(a,s,t){"use strict";t.r(s);var e=t(13),n=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"centos7安装jira"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#centos7安装jira"}},[a._v("#")]),a._v(" centos7安装jira")]),a._v(" "),s("h2",{attrs:{id:"设置可执行权限"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置可执行权限"}},[a._v("#")]),a._v(" 设置可执行权限")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" u+x atlassian-jira-software-9.3.1-x64.bin\n")])])]),s("h2",{attrs:{id:"执行安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#执行安装"}},[a._v("#")]),a._v(" 执行安装")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("./atlassian-jira-software-9.3.1-x64.bin\n")])])]),s("h2",{attrs:{id:"jira-修改setenv-sh文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jira-修改setenv-sh文件"}},[a._v("#")]),a._v(" jira 修改setenv.sh文件")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /opt/atlassian/jira/bin\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" setenv.sh\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 一直下拉，在末位加入如下内容（请注意其中路径，如果未完全按照文档，请自行修改）")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("JAVA_OPTS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"-javaagent:/opt/software/atlassian-agent.jar '),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${JAVA_OPTS}")]),a._v('"')]),a._v("\n")])])]),s("h2",{attrs:{id:"复制mysql启动到jira安装目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#复制mysql启动到jira安装目录"}},[a._v("#")]),a._v(" 复制mysql启动到jira安装目录")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" /opt/software/mysql-connector-java-8.0.30.jar /opt/atlassian/jira/atlassian-jira/WEB-INF/lib/\n")])])]),s("h2",{attrs:{id:"jira启动、停止"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jira启动、停止"}},[a._v("#")]),a._v(" jira启动、停止")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" jira stop\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" jira start\n")])])]),s("h2",{attrs:{id:"jira-许可证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jira-许可证"}},[a._v("#")]),a._v(" jira 许可证")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("java")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-jar")]),a._v(" atlassian-agent.jar "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" jira "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-m")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("798971170")]),a._v("@qq.com "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" tiankafei "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" http://192.168.20.101:9000 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" B209-N8LE-U169-FEDW\n\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" jira 产品名称\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-m")]),a._v(" 邮箱\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-n")]),a._v(" 名称\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-o")]),a._v(" 访问的url\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" 服务器ID\n")])])]),s("h2",{attrs:{id:"confluence"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#confluence"}},[a._v("#")]),a._v(" confluence")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" confluence stop\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" confluence start\n")])])]),s("h2",{attrs:{id:"confluence破解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#confluence破解"}},[a._v("#")]),a._v(" confluence破解")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /opt/atlassian\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" confluence\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-zxvf")]),a._v(" /opt/software/atlassian-confluence-7.16.5.tar.gz "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-C")]),a._v(" /opt/atlassian/confluence\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 编辑confluence初始化配置")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /opt/atlassian/confluence/confluence/WEB-INF/classes/confluence-init.properties\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 添加一行配置")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("confluence.home")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/opt/atlassian/confluence/data\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 备份atlassian-extras-decoder-v2-3.4.6.jar")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" /opt/atlassian/confluence/confluence/WEB-INF/lib/atlassian-extras-decoder-v2-3.4.1.jar /opt/\n\natlassian-extras-decoder-v2-3.4.6.jar\t改名\tatlassian-extras-2.4.jar\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 执行 java -jar confluence_keygen.jar")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# mysql驱动拷贝至指定目录")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" /opt/software/mysql-connector-java-8.0.30.jar /opt/atlassian/confluence/confluence/WEB-INF/lib/\n")])])]),s("h2",{attrs:{id:"更新mysql配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新mysql配置"}},[a._v("#")]),a._v(" 更新mysql配置")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/my.cnf\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("lower_case_table_names")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\ndefault-storage-engine"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("INNODB\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("character_set_server")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8mb4\ncollation-server"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8mb4_bin\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("max_allowed_packet")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("256M\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("innodb_log_file_size")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("256M\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("innodb_default_row_format")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("DYNAMIC\ntransaction-isolation"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("READ-COMMITTED\n\nsystemctl restart mysqld.service\n")])])]),s("h2",{attrs:{id:"confluence开机启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#confluence开机启动"}},[a._v("#")]),a._v(" confluence开机启动")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /lib/systemd/system/confluence.service\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Unit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("Description")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("confluence\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("After")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("network.target\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Service"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("Type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("forking\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ExecStart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/opt/atlassian/confluence/bin/start-confluence.sh\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ExecStop")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/opt/atlassian/confluence/bin/stop-confluence.sh\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PrivateTmp")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("Install"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("WantedBy")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("multi-user.target\n")])])]),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 重新加载配置")]),a._v("\nsystemctl daemon-reload\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置开机启动")]),a._v("\nsystemctl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" confluence.service\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启动")]),a._v("\nsystemctl start confluence.service\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 停止")]),a._v("\nsystemctl stop confluence.service\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看状态")]),a._v("\nsystemctl status confluence.service\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);